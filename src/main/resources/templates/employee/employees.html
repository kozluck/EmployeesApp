<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Employees</title>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"/>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css}">
    <script th:src="@{webjars/bootstrap/5.0.1/js/bootstrap.min.js}"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <span class="navbar-brand">Employees App</span>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
                <li class="nav-items active">
                    <a class="nav-link active" th:href="@{/employees}">Employees List</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/tasks}">Task List</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/projects}">Projects List</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/finances}">Finances</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{employees/employeeForm}">Add new employee</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{projects/projectForm}">Add new project</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{tasks/taskForm}">Add new task</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <table class="table">
            <thead>
            <tr>
                <td>ID</td>
                <td>Name</td>
                <td>Surname</td>
                <td>Tasks</td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            </thead>
            <tbody th:each="employee : ${employees}">
            <tr>
                <td th:text="${employee.id}"></td>
                <td th:text="${employee.name}"></td>
                <td th:text="${employee.surname}"></td>

                <td>
                    <span th:if="${employee.tasks.size==0}">&#10060;<a th:href="${'employees/addTasksToEmployee/' + employee.id}">Assign task</a></span>
                    <span th:if="${employee.tasks.size>0}">&#9989;</span>

                </td>
                <td><a th:href="${'/employees/details/' + employee.id}">Details</a></td>
                <td><a th:href="${'/employees/delete/'+employee.id}">Delete</a></td>

            </tr>
            </tbody>
        </table>
    </div>
</body>
</html>