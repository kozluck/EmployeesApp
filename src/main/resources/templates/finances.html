<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Finances</title>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8"/>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css}">
    <script th:src="@{webjars/bootstrap/5.0.1/js/bootstrap.min.js}"></script>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <span class="navbar-brand">Employees App</span>
    <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link active" th:href="@{/employees}">Employees List</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/tasks}">Task List</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link active" th:href="@{/employees}">Finances</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/employeeForm}">Add new employee</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/taskForm}">Add new task</a>
            </li>
        </ul>
    </div>
</nav>

<div class="container">
    <div class="row">
        <div id="income_chart"></div>
    </div>

    <div class="row">
        <div id="cost_chart"></div>
    </div>
</div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current',{'packagess':['corechart']});
    google.charts.setOnLoadCallback(drawIncomeChart);
    google.charts.setOnLoadCallback(drawCostsChart);

    function drawIncomeChart(){
        var data = new google.visualization.DataTable();
        data.addColumn('string','From');
        data.addColumn('number','Ammount');
        data.addRows([[${incomeChartData}}]]);

        var options = {
            'title':'Incomes',
            'width':400,
            'height':400
        };

        var chart = new google.visualization.PieChart(document.getElementById('income_chart'));
        chart.draw(data,options);
    }

    function drawCostsChart(){
        var data = new google.visualization.DataTable();
        data.addColumn('string','From');
        data.addColumn('number','Ammount');
        data.addRows([[${costChartData}}]]);

        var options = {
            'title':'Costs',
            'width':400,
            'height':400
        };

        var chart = new google.visualization.PieChart(document.getElementById('cost_chart'));
        chart.draw(data,options);
    }


</script>
</body>
</html>